//
//Copyright (c) 2019 by Paolo Deregibus. All Rights Reserved.
//

const qConfigHelpers = {
  useProxy: (qConfig)=> {
    if (process.env.NODE_ENV === 'development') {
      const qConfigForProxy = {...qConfig, host: 'localhost', port: 3000}
      return qConfigForProxy
    } else {
      return qConfig;
    }
  },
  createSenseURL:(qConfigForProxy, requestedFile)=>{
    var path;
    switch(requestedFile) {
    case 'baseUrl':
        path = '/resources'
        break;
    case 'requireJS':
        path = '/resources/assets/external/requirejs/require.js'
        break;
    case 'qlikJS':
        path = '/resources/js/qlik'
        break;
    case 'qlikCSS':
      path='/resources/autogenerated/qlik-styles.css'
      break
    default:
        path='unmatched'
      }
    const prefix = (qConfigForProxy.prefix !== '') ? `/${qConfigForProxy.prefix}` : '';
    const qSenseURL = `${(qConfigForProxy.secure ? 'https://' : 'http://') + qConfigForProxy.host + (qConfigForProxy.port ? `:${qConfigForProxy.port}` : '') + prefix+path}`;///resources/assets/external/requirejs/require.js`;
    return qSenseURL;
  }
}

export default qConfigHelpers
